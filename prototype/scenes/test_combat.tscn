[gd_scene load_steps=8 format=3 uid="uid://bbojxxr0vs8w"]

[ext_resource type="Texture2D" uid="uid://077q3f4wx8sb" path="res://scenes/UI_backgroundFloor.png" id="1_gisrh"]
[ext_resource type="Script" path="res://scenes/combat_scene.gd" id="1_kq76q"]
[ext_resource type="Texture2D" uid="uid://byy16lygw3cj6" path="res://scenes/pixil-frame-0 (1).png" id="2_qynya"]
[ext_resource type="Script" path="res://scenes/enemy.gd" id="4_1sobf"]
[ext_resource type="Script" path="res://scenes/turn_manager.gd" id="4_cxw4c"]
[ext_resource type="Script" path="res://scenes/player.gd" id="5_fhki0"]
[ext_resource type="Texture2D" uid="uid://d1uw2xcarw71" path="res://icon.svg" id="6_f5gr1"]

[node name="TestCombat" type="Node2D"]
script = ExtResource("1_kq76q")

[node name="UiBackgroundFloor" type="Sprite2D" parent="."]
position = Vector2(1152.5, 615.5)
scale = Vector2(8.97266, 8.53472)
texture = ExtResource("1_gisrh")

[node name="Pixil-frame-0(1)" type="Sprite2D" parent="."]
position = Vector2(1102, 553)
scale = Vector2(8.98438, 8.40972)
texture = ExtResource("2_qynya")

[node name="Button" type="Button" parent="."]
offset_left = 90.0
offset_top = 102.0
offset_right = 189.0
offset_bottom = 133.0
text = "back to test"

[node name="entities" type="Node2D" parent="."]
script = ExtResource("4_cxw4c")

[node name="player" type="CharacterBody2D" parent="entities" node_paths=PackedStringArray("target")]
script = ExtResource("5_fhki0")
max_health = 10
speed = 5
target = NodePath("../enemy")

[node name="Icon" type="Sprite2D" parent="entities/player"]
position = Vector2(310, 449)
texture = ExtResource("6_f5gr1")

[node name="enemy" type="CharacterBody2D" parent="entities" node_paths=PackedStringArray("target")]
script = ExtResource("4_1sobf")
max_health = 10
speed = 6
target = NodePath("../player")

[node name="player choices" type="Node2D" parent="."]
visible = false
position = Vector2(1427, 774)

[node name="attack" type="Button" parent="player choices"]
offset_left = -391.0
offset_top = -289.0
offset_right = -306.0
offset_bottom = -247.0
text = "attack"

[node name="speed up" type="Button" parent="player choices"]
offset_left = -379.0
offset_top = -226.0
offset_right = -294.0
offset_bottom = -184.0
text = "speed up"

[node name="defence up" type="Button" parent="player choices"]
offset_left = -384.0
offset_top = -172.0
offset_right = -290.0
offset_bottom = -130.0
text = "defence up"

[node name="enemy health" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0

[node name="Label" type="Label" parent="."]
offset_left = 403.0
offset_top = 15.0
offset_right = 531.0
offset_bottom = 38.0
text = "enemy turn now"

[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
[connection signal="pressed" from="player choices/attack" to="entities/player" method="_on_attack_pressed"]
[connection signal="pressed" from="player choices/speed up" to="entities/player" method="_on_speed_up_pressed"]
[connection signal="pressed" from="player choices/defence up" to="entities/player" method="_on_defence_up_pressed"]
